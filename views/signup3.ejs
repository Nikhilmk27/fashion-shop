<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>signup</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="signupstyle.css" />
    <!-- Custom CSS -->
  </head>
  <body>
    <div class="container">
      <form action="/signup" method="POST" class="form-container">
        <!-- User Information -->
        <div class="form-group">
          <label for="name">Name:</label>
          <input
            type="text"
            id="name"
            name="name"
            class="form-control"
            required
          />
        </div>

        <div class="form-group">
          <label for="email">Email:</label>
          <input
            type="email"
            id="email"
            name="email"
            class="form-control"
            required
          />
        </div>

        <div class="form-group">
          <label for="password">Password:</label>
          <input
            type="password"
            id="password"
            name="password"
            class="form-control"
            required
          />
        </div>

        <!-- Address Information (Allowing Multiple Entries) -->
        <h2>Address:</h2>
        <div class="address-entry">
          <div class="form-group">
            <label for="address-name">Name:</label>
            <input
              type="text"
              id="address-name"
              name="address[name]"
              class="form-control"
              required
            />
          </div>

          <div class="form-group">
            <label for="address-email">Email:</label>
            <input
              type="email"
              id="address-email"
              name="address[email]"
              class="form-control"
              required
            />
          </div>

          <div class="form-group">
            <label for="address-mobile">Mobile:</label>
            <input
              type="tel"
              id="address-mobile"
              name="address[mobile]"
              class="form-control"
              required
            />
          </div>

          <div class="form-group">
            <label for="address-zip">Zip Code:</label>
            <input
              type="number"
              id="address-zip"
              name="address[zip_code]"
              class="form-control"
              required
            />
          </div>

          <div class="form-group">
            <label for="address-text">Address:</label>
            <textarea
              id="address-text"
              name="address[address]"
              class="form-control"
              required
            ></textarea>
          </div>
        </div>

        <!-- Submit Button -->
        <input type="submit" value="Sign Up" class="btn btn-primary" />
      </form>
    </div>

    <!-- Bootstrap JS and jQuery (for certain Bootstrap features) -->
    <!-- <script>
        // Document is ready
$(document).ready(function () {

// Validate Username
$("#usercheck").hide();
let usernameError = true;
$("#usernames").keyup(function () {
    validateUsername();
});

function validateUsername() {
    let usernameValue = $("#usernames").val();
    if (usernameValue.length == "") {
        $("#usercheck").show();
        usernameError = false;
        return false;
    } else if (usernameValue.length < 3 || usernameValue.length > 10) {
        $("#usercheck").show();
        $("#usercheck").html("**length of username must be between 3 and 10");
        usernameError = false;
        return false;
    } else {
        $("#usercheck").hide();
    }
}

// Validate Email
const email = document.getElementById("email");
email.addEventListener("blur", () => {
    let regex = 
    /^([_\-\.0-9a-zA-Z]+)@([_\-\.0-9a-zA-Z]+)\.([a-zA-Z]){2,7}$/;
    let s = email.value;
    if (regex.test(s)) {
        email.classList.remove("is-invalid");
        emailError = true;
    } else {
        email.classList.add("is-invalid");
        emailError = false;
    }
});

// Validate Password
$("#passcheck").hide();
let passwordError = true;
$("#password").keyup(function () {
    validatePassword();
});
function validatePassword() {
    let passwordValue = $("#password").val();
    if (passwordValue.length == "") {
        $("#passcheck").show();
        passwordError = false;
        return false;
    }
    if (passwordValue.length < 3 || passwordValue.length > 10) {
        $("#passcheck").show();
        $("#passcheck").html(
            "**length of your password must be between 3 and 10"
        );
        $("#passcheck").css("color", "red");
        passwordError = false;
        return false;
    } else {
        $("#passcheck").hide();
    }
}

// Validate Confirm Password
$("#conpasscheck").hide();
let confirmPasswordError = true;
$("#conpassword").keyup(function () {
    validateConfirmPassword();
});
function validateConfirmPassword() {
    let confirmPasswordValue = $("#conpassword").val();
    let passwordValue = $("#password").val();
    if (passwordValue != confirmPasswordValue) {
        $("#conpasscheck").show();
        $("#conpasscheck").html("**Password didn't Match");
        $("#conpasscheck").css("color", "red");
        confirmPasswordError = false;
        return false;
    } else {
        $("#conpasscheck").hide();
    }
}

// Submit button
$("#submitbtn").click(function () {
    validateUsername();
    validatePassword();
    validateConfirmPassword();
    validateEmail();
    if (
        usernameError == true &&
        passwordError == true &&
        confirmPasswordError == true &&
        emailError == true
    ) {
        return true;
    } else {
        return false;
    }
});
}); -->

    </script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  </body>
</html>
