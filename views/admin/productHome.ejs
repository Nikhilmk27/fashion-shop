<%- include('../partials/adminNav') %>
<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- DataTables CSS -->
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">

<!-- DataTables JavaScript -->
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>
<script>
  $(document).ready(function() {
    $('#productTable').DataTable();
  });
</script>

<h1 class="mt-2" style="text-align: center; color: rgb(47, 47, 126);">Product Management</h1>

   
   
    <style>
        /* Optional: Add some basic styling to make the link look like a button */
        .button-link {
            display: inline-block;
            padding: 10px 20px;
            text-align: center;
            text-decoration: none;
            background-color: #007bff;
            color: #fff;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>

<!-- Button as a link -->
<!-- Button as a link -->
<div  style="display: flex; justify-content: flex-end; margin-top: 20px; margin-right: 10px;">
  <a href="/admin/add_product" class="button-link">add product</a>
</div



    
   
    <!-- table -->

<div class="container mt-5">
  <h2 style="margin-bottom: 10px; color: rgb(47, 47, 126);">product list</h2>
  
  <% if ( products!= "") { %>
    <table class="table table-striped" id="productTable">
      <thead>
        <tr>
          
          <th>Image</th>
          <th>name</th>
          <th>category</th>
          <th>Action</th>
         
        </tr>
      </thead>
      <tbody>
        <!-- Replace this part with data retrieved from the database -->
        <% products.forEach((product) => { %>
          <tr>
           
            <td><img src="/admin/products/<%= product.image %>" alt="User Image" width="50" class="img-thumbnail"></td>
            <td><%= product.name %></td>
            <td><%= product.category.name %></td>
            
            <td>
              <a href="/delete_product/<%= product._id %>" class="btn btn-danger btn-sm"><i class="fas fa-trash-alt"></i> Delete</a>
              <a href="/edit_product/<%= product._id %>" class="btn btn-primary btn-sm"><i class="fas fa-edit"></i> Edit</a>
            </td>
          </tr>
        <% }) %>
        <!-- Add more rows for each user -->
      </tbody>
    </table>
  <% } else{%>
    <h1 class="text-center text-secondary mt-5">no data found in the db!</h1>
  <%} %>
</div>

<!-- cssss -->
<!-- Bootstrap CSS link (ensure this is included in your HTML head) -->
<!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"> -->

<style>
  /* Adjust table layout for smaller devices */
  @media (max-width: 767px) {
    /* Hide table headers on small screens */
    #productTable thead {
      display: none;
    }

    /* Center the table content */
    #productTable tbody tr td {
      text-align: center;
    }

    /* Ensure table rows are displayed as blocks */
    #productTable tbody tr {
      display: block;
      margin-bottom: 20px; /* Adjust spacing between rows */
    }

    /* Ensure table data cells are displayed as blocks */
    #productTable tbody tr td {
      display: block;
    }

    /* Add margin to individual table data elements */
    #productTable tbody tr td {
      margin-bottom: 10px; /* Adjust spacing between data elements */
    }

    /* Style table data elements */
    #productTable tbody tr td img {
      width: 100%;
      max-width: 100px; /* Limit image width */
      height: auto;
    }

    /* Center-align text in table data elements */
    #productTable tbody tr td {
      text-align: center;
    }

    /* Style buttons in table data */
    #productTable tbody tr td .btn {
      margin: 5px;
    }
  }
</style>


<%- include('../partials/adminFooter') %>




